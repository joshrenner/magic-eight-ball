@import ../lib/bourbon/app/assets/stylesheets/bourbon
@import 8ball

$animation: ease
$animation-duration: 2s

body
	@include perspective(1000px)
	@include perspective-origin(50%)

.ball,
.answer,
.eight,
.ball:before,
.ball:after,
.answer:before,
.eight:before
	border-radius: 50%



// when first loads
.ball
	$animation: ease 1 reverse both

	@include transform-style(preserve-3d)
	@include animation(ball $animation-duration $animation)
	.eight
		@include transform-style(preserve-3d)
		@include animation(eight $animation-duration $animation)
		&:before
			@include transform(translateZ(150px))
	.answer
		@include transform-style(preserve-3d)
		@include animation(answer $animation-duration $animation)
		&:before,
		.triangle,
		.text
			@include transform(translateZ(128px))
		.text,
		.triangle
			opacity: 0
			@include animation(prediction 1s ease-out $animation-duration both)


@include keyframes(prediction)
	to
		opacity: 1
		z-index: 1
		@include transform(rotate(-8deg) scale(1))
	from
		opacity: 0
		@include transform(rotate(0) scale(.8))

@include keyframes(ball)
	to
		@include transform(translateX(90px) scale(0.86))
	from
		@include transform(translateX(0) scale(1))

@include keyframes(eight)
	0%
		@include transform(rotateY(180deg) rotateX(-60deg) scale(.6))
	36%
		opacity: 0
	40%
		opacity: 1
	100%
		@include transform(rotateY(350deg) rotateX(-10deg) scale(.9))

@include keyframes(answer)
	from
		@include transform(rotateY(-360deg) rotateX(0))
	to
		@include transform(rotateY(-180deg) rotateX(60deg))
